<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="color-scheme" content="light" />
    <title>Run Schema</title>
    <meta name="description" content="Save and run deep links (schema) locally. One-click Run, Copy, Delete." />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="shell">
      <div class="wrap">
        <header class="top">
          <div class="title">
            <h1>Run Schema</h1>
            <p class="subtitle" id="subtitle">
              Save deep links (schema) with notes in local cache (LocalStorage). Tap Run to try opening apps on iOS,
              Android, HarmonyOS, etc.
            </p>
            <div class="byline" aria-label="Author">
              <div id="avatarWrap" class="avatar">
                <img id="avatarImg" src="./ar.png" alt="popy avatar" loading="lazy" />
              </div>
              <div class="bytext">
                <div class="byname">popy</div>
                <div class="byrole" id="byRole">Personal toolkit</div>
              </div>
            </div>
          </div>
          <div class="badge-group">
            <div class="badge" title="Pure static. Local-only storage.">
              <span>STATIC</span><span aria-hidden="true">.</span><span>CACHE</span>
            </div>
            <button id="btnLang" class="btn btn-ghost btn-sm" type="button" title="Switch language">ZH</button>
          </div>
        </header>

        <div class="grid">
          <section class="glass" aria-label="Quick Run">
            <div class="card">
              <p class="kicker">Quick Run</p>
              <h2 id="quickTitle">Run instantly</h2>
              <p class="hint" id="quickHint">Paste a schema link and run. Press Enter to run.</p>

              <div class="row cols-3 quick-run">
                <label>
                  <div class="label">
                    <span id="labelSchema1">Schema Link</span>
                    <em id="quickExample">Example: himovie://...</em>
                  </div>
                  <input id="quickUrl" class="field" placeholder="yourapp://path?query=..." inputmode="url" />
                </label>

                <label>
                  <div class="label">
                    <span id="labelNote1">Note</span>
                    <em id="labelNote1Hint"></em>
                  </div>
                  <input id="quickNote" class="field" placeholder="e.g. Huawei Video jump" />
                </label>

                <div class="actions actions-left quick-actions">
                  <button id="btnQuickRun" class="btn btn-primary" type="button">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M8 5v14l11-7z"></path>
                    </svg>
                    <span id="btnTextRun1">Run</span>
                  </button>
                  <button id="btnQuickSave" class="btn btn-secondary" type="button" title="Save to local cache">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                      <path d="M17 21v-8H7v8"></path>
                      <path d="M7 3v5h8"></path>
                    </svg>
                    <span id="btnTextSave1">Save</span>
                  </button>
                </div>
              </div>
            </div>
          </section>

          <section class="glass" aria-label="Library">
            <div class="card">
              <p class="kicker">Library</p>
              <h2 id="libraryTitle">Saved links</h2>
              <p class="hint" id="libraryHint">Data stays in your browser LocalStorage. Delete means local delete only.</p>

              <div class="actions actions-between">
                <div class="actions">
                  <button id="btnImport" class="btn btn-ghost btn-sm" type="button" title="Import from clipboard (JSON)">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M14 3h7v7"></path>
                      <path d="M10 14L21 3"></path>
                      <path d="M21 14v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"></path>
                    </svg>
                    <span id="btnTextImport">Import</span>
                  </button>
                  <button id="btnExport" class="btn btn-ghost btn-sm" type="button" title="Export to clipboard (JSON)">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M10 21H3v-7"></path>
                      <path d="M14 10L3 21"></path>
                      <path d="M3 10V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-6"></path>
                    </svg>
                    <span id="btnTextExport">Export</span>
                  </button>
                </div>
                <button id="btnClearAll" class="btn btn-danger btn-sm" type="button" title="Clear all local cache">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M3 6h18"></path>
                    <path d="M8 6V4h8v2"></path>
                    <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
                    <path d="M10 11v6"></path>
                    <path d="M14 11v6"></path>
                  </svg>
                  <span id="btnTextClear">Clear</span>
                </button>
              </div>

              <div id="list" class="list" aria-live="polite"></div>
              <div id="empty" class="empty" hidden>
                <span id="emptyText">No saved links yet. Use Quick Run -> Save, or Add New below.</span>
              </div>
            </div>
          </section>
        </div>

        <section class="glass mt" aria-label="Add New">
          <div class="card">
            <p class="kicker">Add New</p>
            <h2 id="addTitle">Add and save</h2>
            <p class="hint" id="addHint">
              Tip: browsers may block custom schemes. If Run does nothing, make sure the target app is installed and open
              this page in a system browser.
            </p>

            <div class="row cols-2">
              <label>
                <div class="label">
                  <span id="labelSchema2">Schema Link</span>
                  <em id="labelSchema2Hint">Required</em>
                </div>
                <input id="newUrl" class="field" placeholder="yourapp://..." inputmode="url" />
              </label>

              <label>
                <div class="label">
                  <span id="labelNote2">Note</span>
                  <em id="labelNote2Hint">Meaning / device / business</em>
                </div>
                <input id="newNote" class="field" placeholder="Short description" />
              </label>
            </div>

            <div class="actions mt-sm actions-left">
              <button id="btnAdd" class="btn btn-primary" type="button">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 5v14"></path>
                  <path d="M5 12h14"></path>
                </svg>
                <span id="btnTextAdd">Add to list</span>
              </button>
              <button id="btnPaste" class="btn btn-secondary" type="button" title="Paste from clipboard to Schema Link">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                  <path d="M9 2h6v4H9z"></path>
                  <path d="M9 12h6"></path>
                  <path d="M9 16h6"></path>
                </svg>
                <span id="btnTextPaste">Paste</span>
              </button>
            </div>
          </div>
        </section>
      </div>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>
    <script src="./app.js"></script>
  </body>
</html>
